# 时间框架调整总结

## 修改内容

### 1. 主要时间框架调整
- 高级别方向（Higher TF Bias）：从4小时图改为1小时图
- 入场时间（Entry TF）：从15分钟图改为3分钟图
- 主时间框架（primary_timeframe）：从15分钟改为3分钟

### 2. 配置文件修改

#### config.py
- `primary_timeframe`: "15m" → "3m"
- `higher_tf_bias_tf`: "4h" → "1h"
- `execution_interval`: 5秒 → 30秒（适应3m主时间框架）
- `risk_check_interval`: 添加配置，设置为1分钟（适应3m主时间框架）

#### paxg_trading_bot.py
- `primary_timeframe`: '15m' → '3m'
- `higher_tf_bias_tf`: '4h' → '1h'
- `lower_tf_entry_tf`: '15m' → '3m'
- `timeframes`: ['1d', '4h', '1h', '15m', '3m', '1m'] → ['1d', '1h', '15m', '5m', '3m', '1m']
- `primary_timeframe_weight` 注释: "Weight for 15m structure" → "Weight for 3m structure"
- `price_monitor_interval`: 180秒 → 60秒（适应3m主时间框架）
- `micro_structure_window`: 5 → 3（匹配3m主时间框架）
- `signal_stabilizer_window`: 300秒 → 180秒（匹配3m主时间框架）
- `duplicate_signal_ttl`: 600秒 → 180秒（匹配3m主时间框架）
- `smc_window`: 7 → 5（适应3m主时间框架）
- `amplitude_lookback`: 7 → 5（适应3m主时间框架）
- 价格激活检查间隔: 180秒 → 60秒（适应3m主时间框架）

### 3. 验证范围调整
- 信号稳定器窗口验证范围: 60-1800秒 → 60-900秒（1-15分钟）
- 重复信号TTL验证范围: 60-3600秒 → 60-900秒（1-15分钟）

## 修改原因

1. **适应更短的时间框架**：3分钟时间框架比15分钟更短，需要相应调整各种时间间隔和窗口大小
2. **提高响应速度**：更短的时间框架需要更快的响应和更频繁的检查
3. **保持一致性**：所有相关参数都需要与新的主时间框架保持一致

## 预期效果

1. **更快的信号响应**：3分钟时间框架能够更快地捕捉市场变化
2. **更频繁的交易机会**：更短的时间框架通常会产生更多的交易信号
3. **更精确的入场时机**：3分钟级别能够提供更精确的入场点位

## 注意事项

1. **风险控制**：更短的时间框架可能增加交易频率，需要加强风险控制
2. **信号质量**：更短的时间框架可能产生更多噪音，需要确保信号质量
3. **资源消耗**：更频繁的检查和计算可能增加系统资源消耗

## 测试建议

1. **回测验证**：使用历史数据回测新时间框架的表现
2. **模拟交易**：在模拟环境中测试新时间框架的实际表现
3. **逐步部署**：可以先小资金测试，确认效果后再全面部署